"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[630],{3905:function(t,e,n){n.d(e,{Zo:function(){return u},kt:function(){return h}});var o=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},a=Object.keys(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var c=o.createContext({}),l=function(t){var e=o.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},u=function(t){var e=l(t.components);return o.createElement(c.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return o.createElement(o.Fragment,{},e)}},p=o.forwardRef((function(t,e){var n=t.components,r=t.mdxType,a=t.originalType,c=t.parentName,u=s(t,["components","mdxType","originalType","parentName"]),p=l(n),h=r,d=p["".concat(c,".").concat(h)]||p[h]||m[h]||a;return n?o.createElement(d,i(i({ref:e},u),{},{components:n})):o.createElement(d,i({ref:e},u))}));function h(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var a=n.length,i=new Array(a);i[0]=p;var s={};for(var c in e)hasOwnProperty.call(e,c)&&(s[c]=e[c]);s.originalType=t,s.mdxType="string"==typeof t?t:r,i[1]=s;for(var l=2;l<a;l++)i[l]=n[l];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},5531:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return l},assets:function(){return u},toc:function(){return m},default:function(){return h}});var o=n(7462),r=n(3366),a=(n(7294),n(3905)),i=["components"],s={title:"ocotokit.js",sidebar_position:3},c="Introduction",l={unversionedId:"actions/ocotkit",id:"actions/ocotkit",title:"ocotokit.js",description:"ocotokit.js is a javascript library that can help you interact with the GitHub API in a easy manner.  Some javascript knowledge is helpful, but not required for many simple tasks.",source:"@site/docs/actions/ocotkit.md",sourceDirName:"actions",slug:"/actions/ocotkit",permalink:"/actions/ocotkit",editUrl:"https://github.dev/hamelsmu/notes/blob/master/docs/actions/ocotkit.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"ocotokit.js",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"GitHub Actions",permalink:"/actions/"},next:{title:"Resources",permalink:"/actions/resources"}},u={},m=[{value:"Example 1: Create A Comment On A PR",id:"example-1-create-a-comment-on-a-pr",level:2},{value:"Example 2: Issue Comment",id:"example-2-issue-comment",level:2}],p={toc:m};function h(t){var e=t.components,n=(0,r.Z)(t,i);return(0,a.kt)("wrapper",(0,o.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/octokit/rest.js/"},"ocotokit.js")," is a javascript library that can help you interact with the ",(0,a.kt)("a",{parentName:"p",href:"https://docs.github.com/en/rest"},"GitHub API")," in a easy manner.  Some javascript knowledge is helpful, but not required for many simple tasks.  "),(0,a.kt)("p",null,"You can use the octokit.js client along with the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/actions/github-script"},"github-script")," action to quickly interface with the GitHub API to do useful things in Actions (like commenting on an issue.)"),(0,a.kt)("p",null,"It is helpful to install ",(0,a.kt)("a",{parentName:"p",href:"https://nodejs.org/en/download/"},"node.js")," when developing scripts that interface with the GitHub API so you can test them locally."),(0,a.kt)("h1",{id:"example-octokit-scripts"},"Example Octokit Scripts"),(0,a.kt)("h2",{id:"example-1-create-a-comment-on-a-pr"},"Example 1: Create A Comment On A PR"),(0,a.kt)("p",null,"Let's say you want to programatically make a comment on a pull request with a url that includes the branch name, but you are only given the pull request number.  We first lookup the branch name associated with the pull request and pass that to the method call that makes an issue comment:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"//Instantiate octokit client\nconst { Octokit } = require(\"@octokit/rest\");\nconst octokit = new Octokit({\n    auth: \"<YOUR_PERSONAL_ACCESS_TOKEN>\",\n  });\n\n  //Take an action (create a comment) triggered by an issue comment\n\n  // Get information about the pr\n  octokit.pulls.get({\n    owner: 'hamelsmu',\n    repo: 'test_html',\n    pull_number: 1\n  }).then( (pr) => {\n    // use the branch name from the pr to make a pr comment\n    var BRANCH_NAME = pr.data.head.ref\n    octokit.issues.createComment({\n        issue_number: 1,\n        owner: 'hamelsmu',\n        repo: 'test_html',\n        body: `[![Binder](https://mybinder.org/badge_logo.svg)](https://mybinder.org/v2/gh/hamelsmu/test_html/${BRANCH_NAME}) :point_left: Launch a binder notebook on this branch`\n      })\n  })\n")),(0,a.kt)("h2",{id:"example-2-issue-comment"},"Example 2: Issue Comment"),(0,a.kt)("p",null,"This is a simple example of how you can create an issue comment."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"  //Instantiate octokit client\n  const { Octokit } = require(\"@octokit/rest\");\n  const octokit = new Octokit({\n    auth: \"<YOUR_PERSONAL_ACCESS_TOKEN>\",\n    });\n\n  // Create an issue commment\n  var BRANCH_NAME = 'hamelsmu-patch-1'\n  octokit.issues.createComment({\n      issue_number: 1,\n      owner: 'hamelsmu',\n      repo: 'test_html',\n      body: `[![Binder](https://mybinder.org/badge_logo.svg)](https://mybinder.org/v2/gh/hamelsmu/test_html/${BRANCH_NAME}) :point_left: Launch a binder notebook on this branch`\n    })\n")),(0,a.kt)("h1",{id:"mybinderorg"},"MyBinder.org"),(0,a.kt)("p",null,"The examples above were adapted to ",(0,a.kt)("a",{parentName:"p",href:"https://mybinder.readthedocs.io/en/latest/howto/gh-actions-badges.html"},"write these docs")," for ",(0,a.kt)("a",{parentName:"p",href:"https://mybinder.org/"},"mybinder.org"),"."))}h.isMDXComponent=!0}}]);