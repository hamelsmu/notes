<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.16">
<link rel="search" type="application/opensearchdescription+xml" title="Hamel&#39;s Notes" href="/opensearch.xml"><title data-rh="true">Misc Utilities | Hamel&#x27;s Notes</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://notes.hamel.dev/linux/misc_utils"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Misc Utilities | Hamel&#x27;s Notes"><meta data-rh="true" name="description" content=";"><meta data-rh="true" property="og:description" content=";"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://notes.hamel.dev/linux/misc_utils"><link data-rh="true" rel="alternate" href="https://notes.hamel.dev/linux/misc_utils" hreflang="en"><link data-rh="true" rel="alternate" href="https://notes.hamel.dev/linux/misc_utils" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://N4X7RUH2CX-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.04cdaf53.css">
<link rel="preload" href="/assets/js/runtime~main.d54db8df.js" as="script">
<link rel="preload" href="/assets/js/main.a48ce632.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Notes</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_Pssr toggle_TdHA toggleChecked_cnQY toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" checked="" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode (currently dark mode)"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Hamel&#x27;s Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/concurrency">Python Concurrency</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/actions/">actions</a><button aria-label="Toggle the collapsible sidebar category &#x27;actions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docker/Docker-In-Action">docker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/fastai/fundamentals">fastai</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/jupyter/remote_browser">jupyter</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/programming-languages/pl">programming-languages</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/how-to-learn/lhtl">how-to-learn</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/linux/">linux</a><button aria-label="Toggle the collapsible sidebar category &#x27;linux&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux/bash_scripting">Cheatsheet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux/cookbook">Cookbook</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/linux/misc_utils">Misc Utilities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux/osx">OSX Shell Tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux/permprocdata">Processes, Permissions and Moving Data</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/linux/">linux</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/linux/misc_utils">Misc Utilities</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Misc Utilities</h1></header><div class="tableOfContentsInline_gwOO"><ul class="table-of-contents"><li><a href="#history">History</a></li><li><a href="#diff">Diff</a></li><li><a href="#here-documents">Here Documents</a></li><li><a href="#mounting-devices">Mounting devices</a></li><li><a href="#getting-information-on-mounted-drives">Getting information on mounted drives</a></li><li><a href="#permanently-deleting-files-with-shred">Permanently deleting files with <code>shred</code></a></li></ul></div>;<h2 class="anchor anchorWithStickyNavbar_mojV" id="history">History<a class="hash-link" href="#history" title="Direct link to heading">â€‹</a></h2><ul><li><p>See history with <code>history</code> command</p></li><li><p>You will get a number for each <code>history</code> item.  </p></li><li><p>You can replay any number <code>n</code> with command <code>!n</code></p></li><li><p>History on OS X is stored in <code>~/.zsh_history</code></p><p><code>!n</code> refer to command number n in <code>history</code> when you call history</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="diff">Diff<a class="hash-link" href="#diff" title="Direct link to heading">â€‹</a></h2><p>You can difff two files, you usually want to see a unified diff b/c that is easier to read</p><p><code>diff -u file1.txt file2.txt</code></p><p><img loading="lazy" src="/assets/images/C4B6DEB2-880A-430B-95B8-1CFBF41DB54C-4b1d7a293021ccd284569cf2d2f8f6ee.png" width="812" height="336"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="here-documents">Here Documents<a class="hash-link" href="#here-documents" title="Direct link to heading">â€‹</a></h2><p>Instead of using echo, our script now uses cat and a here document. The string <em>EOF</em> (meaning end of file, a common convention) was selected as the token and marks the end of the embedded text. Note that the token must appear alone and that there must not be trailing spaces on the line.</p><p><img loading="lazy" src="/assets/images/53AC11BD-C482-4F2D-AEB7-A8698ACEEA8D-30af5ce22c72960d2f2f6168bdea878a.png" width="589" height="488"></p><p>Unlike Echo, all double quotes and single quotes are escaped.  Here is an example of the same thing at the command line.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">me@linuxbox ~</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">foo</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;some text&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">me@linuxbox ~</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">cat</span><span class="token plain"> </span><span class="token operator">&lt;&lt;</span><span class="token plain"> _EOF_</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$foo</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;$foo&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain"> _EOF_ </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">some text </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;some text&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;some text&#x27;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$foo</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h1>Named Pipes with <code>mkfifo</code></h1><p>Named pipes are input/output buffers.  You can fill up the buffer and then drain the buffer later.  </p><ol><li><p>Setup Named Pipe using <code>mkfifo</code>
<img loading="lazy" src="/assets/images/6F44893E-0742-4847-8636-3C1953464CCC-eec67f7f4f4fa8780226598699fb8d6b.png" width="702" height="172"></p></li><li><p>Fill up the named pipe, this will hang until the pipe is drained</p></li></ol><p>Hamel: you can run this part in a sub shell</p><p><img loading="lazy" src="/assets/images/FBBAFA3E-0BC9-4E2A-BCEE-199EB618AECC-a1142628d54649bd56b1a7c7667e0662.png" width="938" height="124"></p><ol start="3"><li>In a NEW terminal window drain the pipe</li></ol><p><img loading="lazy" src="/assets/images/A604E250-38ED-4E42-8C3E-22DAB9F6019D-c62d1e8e10cf00db37424da894e8232d.png" width="410" height="66"></p><p>Hamel: put it all together in a script.  You can drain the pipe as many times as you want.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">mkfifo</span><span class="token plain"> pipe1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">ls</span><span class="token plain"> -l </span><span class="token operator">&gt;</span><span class="token plain"> pipe1 </span><span class="token operator">&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">cat</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> pipe1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h1>Scan host for open ports w/ <code>nmap</code></h1><ol><li>Lookup ip with <code>nslookup</code></li><li><code>nmap -sT &lt;IP address&gt;</code></li></ol><p>You can scan a range of IPs for a mysql port like so:</p><p><code>nmap -sT 192.168.181.0/24 -p 3306 -oG MySQLScan</code></p><p>This is useful if you have a public server and you want to verify that a port is open.</p><h1>Devices <code>/dev</code></h1><p>Linux has a special directory that contains files representing attached devices.  Important ones are <code>sda1</code>, <code>sda2</code> , <code>sda3</code>, <code>sdb</code> and <code>sdb1</code></p><p><img loading="lazy" src="/assets/images/6F9F1367-6764-4606-A2B5-EA409815E2AA-289149df0379db44b05f3fc6a836aaa6.png" width="553" height="181"></p><p>You can view a tree of your disks and the partitions with the utility <code>lsblk</code></p><p><img loading="lazy" src="/assets/images/6054D0F0-DCC6-4ACF-93C2-8C1FD8651739-66a5f3559ddb11e64b54e9c55a6a149d.png" width="462" height="198"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="mounting-devices">Mounting devices<a class="hash-link" href="#mounting-devices" title="Direct link to heading">â€‹</a></h2><p>Sometimes you need to mount these devices.  Two common mount points are <code>/mnt</code> and <code>/media</code>.  If you mount the device into an existing directory it will cover the contents of that directory making them invisible and unavailable.  </p><p>Ex: mount device to <code>/mnt</code></p><p><code>mount /dev/sb1 /mnt</code></p><p>Ex: mount flash drive</p><p><code>mount /dev/sdc1 /media</code></p><p>You can unmount a device with <code>unmount</code>:</p><p><code>unmount /dev/sb1</code></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="getting-information-on-mounted-drives">Getting information on mounted drives<a class="hash-link" href="#getting-information-on-mounted-drives" title="Direct link to heading">â€‹</a></h2><p><code>df -h</code></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="permanently-deleting-files-with-shred">Permanently deleting files with <code>shred</code><a class="hash-link" href="#permanently-deleting-files-with-shred" title="Direct link to heading">â€‹</a></h2><p>This utility writes over files many times in order to erase things.  Helpful for sensitive data.</p><h1>Masking your IP for web scraping</h1><p>Look into <code>proxy chains</code></p><p>Linux utility called <code>proxychains</code> which generally works as:</p><p><code>proxychains &lt;the command you want proxied&gt; &lt;arguments&gt;</code></p><p><code>proxychains</code> defaults to using Tor if you don&#x27;t  supply your own proxies.</p><p>See: <a href="https://www.technocrazed.com/how-to-use-beagle-scraper-safely-to-scrape-e-commerce-platforms" target="_blank" rel="noopener noreferrer">https://www.technocrazed.com/how-to-use-beagle-scraper-safely-to-scrape-e-commerce-platforms</a></p><h1>Running Scripts At System Startup</h1><p>Look at <code>rc</code> scripts.  After the kernel has initialized all its modules, it starts adaemon known as <code>init</code> or <code>initd</code>, which runs scripts found in <code>/etc/init.d/rc</code></p><p>You can use the utility <code>update-rc.d</code> to add a script to the startup procedure:</p><p><img loading="lazy" src="/assets/images/5F88D6DB-3B9C-456A-904D-6E1BFA805903-f472d8fa1ea7efd3ed2fcbd2f62c33e3.png" width="681" height="55"></p><p>This is useful if for example you always want to start a database on system startup.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.dev/hamelsmu/notes/blob/master/docs/linux/misc_utils.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/linux/cookbook"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Cookbook</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/linux/osx"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">OSX Shell Tips</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#history" class="table-of-contents__link toc-highlight">History</a></li><li><a href="#diff" class="table-of-contents__link toc-highlight">Diff</a></li><li><a href="#here-documents" class="table-of-contents__link toc-highlight">Here Documents</a></li><li><a href="#mounting-devices" class="table-of-contents__link toc-highlight">Mounting devices</a></li><li><a href="#getting-information-on-mounted-drives" class="table-of-contents__link toc-highlight">Getting information on mounted drives</a></li><li><a href="#permanently-deleting-files-with-shred" class="table-of-contents__link toc-highlight">Permanently deleting files with <code>shred</code></a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Get In Touch</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/HamelHusain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://hamel.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">About Hamel</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Hamel Husain</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d54db8df.js"></script>
<script src="/assets/js/main.a48ce632.js"></script>
</body>
</html>