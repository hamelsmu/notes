

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  
    <title>Misc Utilities - Notes</title>

    
  

  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">

  

  
    <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Misc Utilities | Notes</title>
<meta name="generator" content="Jekyll v4.0.1" />
<meta property="og:title" content="Misc Utilities" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Hamel’s Notes about random things" />
<meta property="og:description" content="Hamel’s Notes about random things" />
<link rel="canonical" href="http://0.0.0.0:4000/docs/linux/misc_utils.html" />
<meta property="og:url" content="http://0.0.0.0:4000/docs/linux/misc_utils.html" />
<meta property="og:site_name" content="Notes" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Misc Utilities" />
<script type="application/ld+json">
{"url":"http://0.0.0.0:4000/docs/linux/misc_utils.html","@type":"WebPage","headline":"Misc Utilities","description":"Hamel’s Notes about random things","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div class="side-bar">
    <div class="site-header">
      <a href="http://0.0.0.0:4000/" class="site-title lh-tight">
  Notes

</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      
        <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/docs/linux/" class="nav-list-link">Linux & Bash Scripting</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/linux/cookbook.html" class="nav-list-link">Cookbook</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/linux/linux.html" class="nav-list-link">Processes, Permissions and Moving Data</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/linux/bash_scripting.html" class="nav-list-link">Cheatsheet</a></li><li class="nav-list-item  active"><a href="http://0.0.0.0:4000/docs/linux/misc_utils.html" class="nav-list-link active">Misc Utilities</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/linux/osx.html" class="nav-list-link">OSX Shell Tips</a></li></ul></li><li class="nav-list-item"><a href="http://0.0.0.0:4000/docs/docker/Docker-In-Action.html" class="nav-list-link">Docker</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/docs/jupyter/" class="nav-list-link">Jupyter</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/jupyter/remote_browser.html" class="nav-list-link">Remote Browser For Jupyter</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/docs/actions/" class="nav-list-link">GitHub Actions</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/actions/resources.html" class="nav-list-link">Resources</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/actions/ocotkit.html" class="nav-list-link">ocotokit.js</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/docs/python/" class="nav-list-link">python</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/python/concurrency.html" class="nav-list-link">Python Concurrency</a></li></ul></li><li class="nav-list-item"><a href="http://0.0.0.0:4000/docs/programming-languages/pl.html" class="nav-list-link">programming languages</a></li><li class="nav-list-item"><a href="http://0.0.0.0:4000/docs/how-to-learn/lhtl.html" class="nav-list-link">How To Learn</a></li><li class="nav-list-item"><a href="http://0.0.0.0:4000/about/" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="http://0.0.0.0:4000/docs/fastai/batch_predicitions.html" class="nav-list-link">Batch Predictions</a></li><li class="nav-list-item"><a href="http://0.0.0.0:4000/docs/fastai/01_fundamentals.html" class="nav-list-link">Fastai Notes</a></li></ul>

      
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
      
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Notes" aria-label="Search Notes" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
      
      
      
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
            
              <li class="aux-nav-list-item">
                <a href="//github.com/hamelsmu/notes" class="site-button"
                  
                >
                  Edit On GitHub
                </a>
              </li>
            
          </ul>
        </nav>
      
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list">
              
                <li class="breadcrumb-nav-list-item"><a href="http://0.0.0.0:4000/docs/linux/">Linux & Bash Scripting</a></li>
              
              <li class="breadcrumb-nav-list-item"><span>Misc Utilities</span></li>
            </ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">
        
          <details open="">
  <summary class="text-delta">
    Table of contents
  </summary>
<ol id="markdown-toc">
  <li><a href="#history" id="markdown-toc-history">History</a></li>
  <li><a href="#diff" id="markdown-toc-diff">Diff</a></li>
  <li><a href="#here-documents" id="markdown-toc-here-documents">Here Documents</a></li>
  <li><a href="#named-pipes-with-mkfifo" id="markdown-toc-named-pipes-with-mkfifo">Named Pipes with <code class="highlighter-rouge">mkfifo</code></a></li>
  <li><a href="#scan-host-for-open-ports-w-nmap" id="markdown-toc-scan-host-for-open-ports-w-nmap">Scan host for open ports w/ <code class="highlighter-rouge">nmap</code></a></li>
  <li><a href="#devices-dev" id="markdown-toc-devices-dev">Devices <code class="highlighter-rouge">/dev</code></a>    <ol>
      <li><a href="#mounting-devices" id="markdown-toc-mounting-devices">Mounting devices</a></li>
      <li><a href="#getting-information-on-mounted-drives" id="markdown-toc-getting-information-on-mounted-drives">Getting information on mounted drives</a></li>
      <li><a href="#permanently-deleting-files-with-shred" id="markdown-toc-permanently-deleting-files-with-shred">Permanently deleting files with <code class="highlighter-rouge">shred</code></a></li>
    </ol>
  </li>
  <li><a href="#masking-your-ip-for-web-scraping" id="markdown-toc-masking-your-ip-for-web-scraping">Masking your IP for web scraping</a></li>
  <li><a href="#running-scripts-at-system-startup" id="markdown-toc-running-scripts-at-system-startup">Running Scripts At System Startup</a></li>
</ol>

</details>
      <h2 id="history">
        
        
          <a href="#history" class="anchor-heading" aria-labelledby="history"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> History
        
        
      </h2>
    
<ul>
  <li>See history with <code class="highlighter-rouge">history</code> command</li>
  <li>You will get a number for each <code class="highlighter-rouge">history</code> item.</li>
  <li>You can replay any number <code class="highlighter-rouge">n</code> with command <code class="highlighter-rouge">!n</code></li>
  <li>History on OS X is stored in <code class="highlighter-rouge">~/.zsh_history</code></li>
</ul>

<p><code class="highlighter-rouge">!n</code> refer to command number n in <code class="highlighter-rouge">history</code> when you call history</p>
      <h2 id="diff">
        
        
          <a href="#diff" class="anchor-heading" aria-labelledby="diff"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Diff
        
        
      </h2>
    
<p>You can difff two files, you usually want to see a unified diff b/c that is easier to read</p>

<p><code class="highlighter-rouge">diff -u file1.txt file2.txt</code></p>

<p><img src="Linux%20Command%20Line%202E/C4B6DEB2-880A-430B-95B8-1CFBF41DB54C.png" alt="" /></p>
      <h2 id="here-documents">
        
        
          <a href="#here-documents" class="anchor-heading" aria-labelledby="here-documents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Here Documents
        
        
      </h2>
    

<p>Instead of using echo, our script now uses cat and a here document. The string <em>EOF</em> (meaning end of file, a common convention) was selected as the token and marks the end of the embedded text. Note that the token must appear alone and that there must not be trailing spaces on the line.</p>

<p><img src="Linux%20Command%20Line%202E/53AC11BD-C482-4F2D-AEB7-A8698ACEEA8D.png" alt="" /></p>

<p>Unlike Echo, all double quotes and single quotes are escaped.  Here is an example of the same thing at the command line.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="o">[</span>me@linuxbox ~]<span class="nv">$ foo</span><span class="o">=</span><span class="s2">"some text"</span>
<span class="o">[</span>me@linuxbox ~]<span class="nv">$ </span><span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="no">_EOF_</span><span class="sh">
&gt; </span><span class="nv">$foo</span><span class="sh">
&gt; "</span><span class="nv">$foo</span><span class="sh">"
&gt; '</span><span class="nv">$foo</span><span class="sh">'
&gt; </span><span class="se">\$</span><span class="sh">foo
&gt; _EOF_ 
some text 
"some text" 
'some text' 
</span><span class="nv">$foo</span><span class="sh">
</span></pre></td></tr></tbody></table></div></code></pre></div></div>
      <h1 id="named-pipes-with-mkfifo">
        
        
          <a href="#named-pipes-with-mkfifo" class="anchor-heading" aria-labelledby="named-pipes-with-mkfifo"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Named Pipes with <code class="highlighter-rouge">mkfifo</code>
        
        
      </h1>
    
<p>Named pipes are input/output buffers.  You can fill up the buffer and then drain the buffer later.</p>

<ol>
  <li>
    <p>Setup Named Pipe using <code class="highlighter-rouge">mkfifo</code>
<img src="Linux%20Command%20Line%202E/6F44893E-0742-4847-8636-3C1953464CCC.png" alt="" /></p>
  </li>
  <li>
    <p>Fill up the named pipe, this will hang until the pipe is drained</p>
  </li>
</ol>

<p>Hamel: you can run this part in a sub shell</p>

<p><img src="Linux%20Command%20Line%202E/FBBAFA3E-0BC9-4E2A-BCEE-199EB618AECC.png" alt="" /></p>

<ol>
  <li>In a NEW terminal window drain the pipe</li>
</ol>

<p><img src="Linux%20Command%20Line%202E/A604E250-38ED-4E42-8C3E-22DAB9F6019D.png" alt="" /></p>

<p>Hamel: put it all together in a script.  You can drain the pipe as many times as you want.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="nb">mkfifo </span>pipe1
<span class="nb">ls</span> <span class="nt">-l</span> <span class="o">&gt;</span> pipe1 &amp;
<span class="nb">cat</span> &lt; pipe1
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h1 id="scan-host-for-open-ports-w-nmap">
        
        
          <a href="#scan-host-for-open-ports-w-nmap" class="anchor-heading" aria-labelledby="scan-host-for-open-ports-w-nmap"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Scan host for open ports w/ <code class="highlighter-rouge">nmap</code>
        
        
      </h1>
    

<ol>
  <li>Lookup ip with <code class="highlighter-rouge">nslookup</code></li>
  <li><code class="highlighter-rouge">nmap -sT &lt;IP address&gt;</code></li>
</ol>

<p>You can scan a range of IPs for a mysql port like so:</p>

<p><code class="highlighter-rouge">nmap -sT 192.168.181.0/24 -p 3306 -oG MySQLScan</code></p>

<p>This is useful if you have a public server and you want to verify that a port is open.</p>
      <h1 id="devices-dev">
        
        
          <a href="#devices-dev" class="anchor-heading" aria-labelledby="devices-dev"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Devices <code class="highlighter-rouge">/dev</code>
        
        
      </h1>
    
<p>Linux has a special directory that contains files representing attached devices.  Important ones are <code class="highlighter-rouge">sda1</code>, <code class="highlighter-rouge">sda2</code> , <code class="highlighter-rouge">sda3</code>, <code class="highlighter-rouge">sdb</code> and <code class="highlighter-rouge">sdb1</code></p>

<p><img src="Linux_Hackers/6F9F1367-6764-4606-A2B5-EA409815E2AA.png" alt="" /></p>

<p>You can view a tree of your disks and the partitions with the utility <code class="highlighter-rouge">lsblk</code></p>

<p><img src="Linux_Hackers/6054D0F0-DCC6-4ACF-93C2-8C1FD8651739.png" alt="" /></p>
      <h2 id="mounting-devices">
        
        
          <a href="#mounting-devices" class="anchor-heading" aria-labelledby="mounting-devices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mounting devices
        
        
      </h2>
    

<p>Sometimes you need to mount these devices.  Two common mount points are <code class="highlighter-rouge">/mnt</code> and <code class="highlighter-rouge">/media</code>.  If you mount the device into an existing directory it will cover the contents of that directory making them invisible and unavailable.</p>

<p>Ex: mount device to <code class="highlighter-rouge">/mnt</code></p>

<p><code class="highlighter-rouge">mount /dev/sb1 /mnt</code></p>

<p>Ex: mount flash drive</p>

<p><code class="highlighter-rouge">mount /dev/sdc1 /media</code></p>

<p>You can unmount a device with <code class="highlighter-rouge">unmount</code>:</p>

<p><code class="highlighter-rouge">unmount /dev/sb1</code></p>
      <h2 id="getting-information-on-mounted-drives">
        
        
          <a href="#getting-information-on-mounted-drives" class="anchor-heading" aria-labelledby="getting-information-on-mounted-drives"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Getting information on mounted drives
        
        
      </h2>
    
<p><code class="highlighter-rouge">df -h</code></p>
      <h2 id="permanently-deleting-files-with-shred">
        
        
          <a href="#permanently-deleting-files-with-shred" class="anchor-heading" aria-labelledby="permanently-deleting-files-with-shred"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Permanently deleting files with <code class="highlighter-rouge">shred</code>
        
        
      </h2>
    
<p>This utility writes over files many times in order to erase things.  Helpful for sensitive data.</p>
      <h1 id="masking-your-ip-for-web-scraping">
        
        
          <a href="#masking-your-ip-for-web-scraping" class="anchor-heading" aria-labelledby="masking-your-ip-for-web-scraping"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Masking your IP for web scraping
        
        
      </h1>
    
<p>Look into <code class="highlighter-rouge">proxy chains</code></p>

<p>Linux utility called <code class="highlighter-rouge">proxychains</code> which generally works as:</p>

<p><code class="highlighter-rouge">proxychains &lt;the command you want proxied&gt; &lt;arguments&gt;</code></p>

<p><code class="highlighter-rouge">proxychains</code> defaults to using Tor if you don’t  supply your own proxies.</p>

<p>See: https://www.technocrazed.com/how-to-use-beagle-scraper-safely-to-scrape-e-commerce-platforms</p>
      <h1 id="running-scripts-at-system-startup">
        
        
          <a href="#running-scripts-at-system-startup" class="anchor-heading" aria-labelledby="running-scripts-at-system-startup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Running Scripts At System Startup
        
        
      </h1>
    
<p>Look at <code class="highlighter-rouge">rc</code> scripts.  After the kernel has initialized all its modules, it starts adaemon known as <code class="highlighter-rouge">init</code> or <code class="highlighter-rouge">initd</code>, which runs scripts found in <code class="highlighter-rouge">/etc/init.d/rc</code></p>

<p>You can use the utility <code class="highlighter-rouge">update-rc.d</code> to add a script to the startup procedure:</p>

<p><img src="Linux_Hackers/5F88D6DB-3B9C-456A-904D-6E1BFA805903.png" alt="" /></p>

<p>This is useful if for example you always want to start a database on system startup.</p>

        

        

        
        
          <hr>
          <footer>
            

            <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2020 onwards, Hamel Husain.</p>

            
              <div class="d-flex mt-2">
                
                
                  <p class="text-small text-grey-dk-000 mb-0">
                    <a href="https://github.com/hamelsmu/notes/tree/master/docs/linux/misc_utils.md" id="edit-this-page">Edit on GitHub.</a>
                  </p>
                
              </div>
            
          </footer>
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    
  </div>
</body>
</html>


