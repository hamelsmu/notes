

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  
    <title>Cheatsheet - Notes</title>

    
  

  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">

  

  
    <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Cheatsheet | Notes</title>
<meta name="generator" content="Jekyll v4.0.1" />
<meta property="og:title" content="Cheatsheet" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Hamel’s Notes about random things" />
<meta property="og:description" content="Hamel’s Notes about random things" />
<link rel="canonical" href="http://0.0.0.0:4000/docs/linux/bash_scripting.html" />
<meta property="og:url" content="http://0.0.0.0:4000/docs/linux/bash_scripting.html" />
<meta property="og:site_name" content="Notes" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Cheatsheet" />
<script type="application/ld+json">
{"url":"http://0.0.0.0:4000/docs/linux/bash_scripting.html","@type":"WebPage","headline":"Cheatsheet","description":"Hamel’s Notes about random things","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div class="side-bar">
    <div class="site-header">
      <a href="http://0.0.0.0:4000/" class="site-title lh-tight">
  Notes

</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      
        <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/docs/linux/" class="nav-list-link">Linux & Bash Scripting</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/linux/cookbook.html" class="nav-list-link">Cookbook</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/linux/linux.html" class="nav-list-link">Processes, Permissions and Moving Data</a></li><li class="nav-list-item  active"><a href="http://0.0.0.0:4000/docs/linux/bash_scripting.html" class="nav-list-link active">Cheatsheet</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/linux/misc_utils.html" class="nav-list-link">Misc Utilities</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/linux/osx.html" class="nav-list-link">OSX Shell Tips</a></li></ul></li><li class="nav-list-item"><a href="http://0.0.0.0:4000/docs/docker/Docker-In-Action.html" class="nav-list-link">Docker</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/docs/jupyter/" class="nav-list-link">Jupyter</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/jupyter/remote_browser.html" class="nav-list-link">Remote Browser For Jupyter</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/docs/actions/" class="nav-list-link">GitHub Actions</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/actions/resources.html" class="nav-list-link">Resources</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/actions/ocotkit.html" class="nav-list-link">ocotokit.js</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/docs/python/" class="nav-list-link">python</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/python/concurrency.html" class="nav-list-link">Python Concurrency</a></li></ul></li><li class="nav-list-item"><a href="http://0.0.0.0:4000/docs/programming-languages/pl.html" class="nav-list-link">programming languages</a></li><li class="nav-list-item"><a href="http://0.0.0.0:4000/docs/how-to-learn/lhtl.html" class="nav-list-link">How To Learn</a></li><li class="nav-list-item"><a href="http://0.0.0.0:4000/about/" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/docs/fastai/" class="nav-list-link">fastai notes</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/fastai/batch_predicitions.html" class="nav-list-link">Batch Predictions</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/docs/fastai/01_fundamentals.html" class="nav-list-link">Book Chapters 1-4</a></li></ul></li></ul>

      
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
      
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Notes" aria-label="Search Notes" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
      
      
      
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
            
              <li class="aux-nav-list-item">
                <a href="//github.com/hamelsmu/notes" class="site-button"
                  
                >
                  Edit On GitHub
                </a>
              </li>
            
          </ul>
        </nav>
      
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list">
              
                <li class="breadcrumb-nav-list-item"><a href="http://0.0.0.0:4000/docs/linux/">Linux & Bash Scripting</a></li>
              
              <li class="breadcrumb-nav-list-item"><span>Cheatsheet</span></li>
            </ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">
        
          <h1 id="bash-scripting-class-linux-academy">
        
        
          <a href="#bash-scripting-class-linux-academy" class="anchor-heading" aria-labelledby="bash-scripting-class-linux-academy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Bash Scripting Class Linux Academy
        
        
      </h1>
    
<ul>
  <li><a href="https://linuxacademy.com/linux/training/course/name/the-system-administrators-guidep-to-bash-scripting">Link</a> to class.</li>
  <li><a href="https://github.com/hamelsmu/bash_scripting">Link</a> to GitHub repo</li>
</ul>

<details open="">
  <summary class="text-delta">
    Table of contents
  </summary>
<ol id="markdown-toc">
  <li><a href="#bash-scripting-class-linux-academy" id="markdown-toc-bash-scripting-class-linux-academy">Bash Scripting Class Linux Academy</a>    <ol>
      <li><a href="#history-of-bash" id="markdown-toc-history-of-bash">History of Bash</a></li>
      <li><a href="#bash-configuration" id="markdown-toc-bash-configuration">Bash Configuration</a>        <ol>
          <li><a href="#bash_profile" id="markdown-toc-bash_profile">.bash_profile</a></li>
          <li><a href="#bashrc" id="markdown-toc-bashrc">.bashrc</a></li>
          <li><a href="#bash_history" id="markdown-toc-bash_history">.bash_history</a></li>
          <li><a href="#bash_logout" id="markdown-toc-bash_logout">.bash_logout</a></li>
        </ol>
      </li>
      <li><a href="#shell-scripts" id="markdown-toc-shell-scripts">Shell Scripts</a>        <ol>
          <li><a href="#chmod-ux" id="markdown-toc-chmod-ux">chmod u+x</a></li>
          <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
          <li><a href="#using-variables-on-the-command-line" id="markdown-toc-using-variables-on-the-command-line">Using Variables on The Command Line</a>            <ol>
              <li><a href="#using-substitution-with-backticks" id="markdown-toc-using-substitution-with-backticks">Using Substitution with backticks</a></li>
            </ol>
          </li>
          <li><a href="#using-variables-in-scripts" id="markdown-toc-using-variables-in-scripts">Using Variables in Scripts</a></li>
          <li><a href="#command-subsitution" id="markdown-toc-command-subsitution">Command Subsitution</a></li>
          <li><a href="#exit-status" id="markdown-toc-exit-status">Exit Status</a>            <ol>
              <li><a href="#using-exit-statues-in-a-shell-script" id="markdown-toc-using-exit-statues-in-a-shell-script">Using exit statues in a shell script</a></li>
            </ol>
          </li>
          <li><a href="#arithmetic-operations" id="markdown-toc-arithmetic-operations">Arithmetic Operations</a></li>
        </ol>
      </li>
      <li><a href="#global-and-local-environment-variables" id="markdown-toc-global-and-local-environment-variables">Global and Local Environment Variables</a>        <ol>
          <li><a href="#unset--delete-an-environment-variable" id="markdown-toc-unset--delete-an-environment-variable"><code class="highlighter-rouge">unset</code> : Delete An Environment Variable</a></li>
        </ol>
      </li>
      <li><a href="#special-characters-quotes--escapes" id="markdown-toc-special-characters-quotes--escapes">Special Characters: Quotes &amp; Escapes</a></li>
    </ol>
  </li>
  <li><a href="#redirecting-output" id="markdown-toc-redirecting-output">Redirecting Output</a>    <ol>
      <li><a href="#using-devnull" id="markdown-toc-using-devnull">Using dev/null</a></li>
      <li><a href="#redirect--std-error" id="markdown-toc-redirect--std-error">Redirect  Std Error</a></li>
      <li><a href="#redirect-std-out--err-into-one-file" id="markdown-toc-redirect-std-out--err-into-one-file">Redirect Std Out &amp; Err into one file</a></li>
      <li><a href="#dispose-std-err-output-devnull" id="markdown-toc-dispose-std-err-output-devnull">Dispose Std Err output <code class="highlighter-rouge">/dev/null</code></a></li>
    </ol>
  </li>
  <li><a href="#the-read-statement" id="markdown-toc-the-read-statement">The Read Statement</a></li>
  <li><a href="#shell-expansion" id="markdown-toc-shell-expansion">Shell Expansion</a>    <ol>
      <li><a href="#brace-expansion" id="markdown-toc-brace-expansion">Brace Expansion</a></li>
      <li><a href="#parameter-expansion-like-coalesce" id="markdown-toc-parameter-expansion-like-coalesce">Parameter Expansion, Like Coalesce</a></li>
    </ol>
  </li>
  <li><a href="#types-of-variables" id="markdown-toc-types-of-variables">Types of Variables</a>    <ol>
      <li><a href="#readonly-variables" id="markdown-toc-readonly-variables">Readonly Variables</a></li>
      <li><a href="#types-of-variables-1" id="markdown-toc-types-of-variables-1">Types of Variables</a></li>
    </ol>
  </li>
  <li><a href="#arrays" id="markdown-toc-arrays">Arrays</a>    <ol>
      <li><a href="#iterating-through-arrays" id="markdown-toc-iterating-through-arrays">Iterating Through Arrays</a></li>
      <li><a href="#passing-variables-to-scripts-at-the-command-line" id="markdown-toc-passing-variables-to-scripts-at-the-command-line">Passing Variables to Scripts at the Command Line</a></li>
    </ol>
  </li>
  <li><a href="#conditionals" id="markdown-toc-conditionals">Conditionals</a>    <ol>
      <li><a href="#the-if-statement" id="markdown-toc-the-if-statement">The if statement</a></li>
      <li><a href="#ifthenelse" id="markdown-toc-ifthenelse">If/Then/Else</a></li>
    </ol>
  </li>
  <li><a href="#conditional-expressions" id="markdown-toc-conditional-expressions">Conditional Expressions</a>    <ol>
      <li><a href="#file-expressions" id="markdown-toc-file-expressions">File Expressions</a></li>
      <li><a href="#string-expressions" id="markdown-toc-string-expressions">String Expressions</a></li>
      <li><a href="#integer-expressions" id="markdown-toc-integer-expressions">Integer Expressions</a></li>
    </ol>
  </li>
  <li><a href="#aside-output-streams" id="markdown-toc-aside-output-streams">Aside: Output Streams</a></li>
  <li><a href="#control-flow" id="markdown-toc-control-flow">Control Flow</a>    <ol>
      <li><a href="#for-loop" id="markdown-toc-for-loop">For Loop</a></li>
      <li><a href="#case-statement" id="markdown-toc-case-statement">Case Statement</a>        <ol>
          <li><a href="#match-multiple-case-statements" id="markdown-toc-match-multiple-case-statements">Match Multiple Case Statements</a></li>
        </ol>
      </li>
      <li><a href="#while-loop" id="markdown-toc-while-loop">While Loop</a></li>
      <li><a href="#asynchronous-execution-with-wait" id="markdown-toc-asynchronous-execution-with-wait">Asynchronous Execution with <code class="highlighter-rouge">wait</code></a></li>
      <li><a href="#short-circuit-expressions" id="markdown-toc-short-circuit-expressions">Short Circuit Expressions</a>        <ol>
          <li><a href="#-command1--command2" id="markdown-toc--command1--command2">&amp;&amp;: <code class="highlighter-rouge">command1 &amp;&amp; command2</code>:</a></li>
          <li><a href="#-command1--command2-1" id="markdown-toc--command1--command2-1">||: <code class="highlighter-rouge">command1 || command2</code>:</a></li>
        </ol>
      </li>
    </ol>
  </li>
  <li><a href="#execution-operators" id="markdown-toc-execution-operators">Execution Operators</a></li>
  <li><a href="#inputoutput" id="markdown-toc-inputoutput">Input/Output</a>    <ol>
      <li><a href="#reading-files" id="markdown-toc-reading-files">Reading Files</a></li>
      <li><a href="#reading-files-with-loops" id="markdown-toc-reading-files-with-loops">Reading Files with loops</a></li>
      <li><a href="#file-descriptors" id="markdown-toc-file-descriptors">File Descriptors</a></li>
      <li><a href="#delimiters-ifs" id="markdown-toc-delimiters-ifs">Delimiters (IFS)</a></li>
      <li><a href="#traps-and-signals" id="markdown-toc-traps-and-signals">Traps and Signals</a></li>
    </ol>
  </li>
  <li><a href="#debugging-shell-scripts" id="markdown-toc-debugging-shell-scripts">Debugging Shell Scripts</a></li>
  <li><a href="#error-handling" id="markdown-toc-error-handling">Error Handling</a></li>
  <li><a href="#functions" id="markdown-toc-functions">Functions</a>    <ol>
      <li><a href="#structure-of-functions-in-a-shell-script" id="markdown-toc-structure-of-functions-in-a-shell-script">structure of functions in a shell script</a></li>
      <li><a href="#scope" id="markdown-toc-scope">Scope</a></li>
      <li><a href="#functions-with-parameters" id="markdown-toc-functions-with-parameters">Functions With Parameters</a></li>
      <li><a href="#nested-functions" id="markdown-toc-nested-functions">Nested Functions</a></li>
      <li><a href="#function-return-and-exit" id="markdown-toc-function-return-and-exit">Function Return and Exit</a></li>
    </ol>
  </li>
  <li><a href="#interactive-menus" id="markdown-toc-interactive-menus">Interactive Menus</a>    <ol>
      <li><a href="#infobox" id="markdown-toc-infobox">Infobox</a></li>
      <li><a href="#msgbox" id="markdown-toc-msgbox">Msgbox</a></li>
      <li><a href="#menus" id="markdown-toc-menus">Menus</a></li>
    </ol>
  </li>
</ol>

</details>
      <h2 id="history-of-bash">
        
        
          <a href="#history-of-bash" class="anchor-heading" aria-labelledby="history-of-bash"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> History of Bash
        
        
      </h2>
    

<ul>
  <li>was originally a program called <code class="highlighter-rouge">bin/sh</code></li>
  <li>Bourne Shell: introduced more advanced structure into the shell.</li>
  <li><strong>Bourne Again Shell (Bash):</strong>  Second iteration of Bourne Shell.</li>
</ul>
      <h2 id="bash-configuration">
        
        
          <a href="#bash-configuration" class="anchor-heading" aria-labelledby="bash-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Bash Configuration
        
        
      </h2>
    

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nb">ls</span> <span class="nt">-a</span> ~/ | <span class="nb">grep </span>bash
      .bash_history
      .bash_profile
      .bash_profile.backup
      .bash_profile.bensherman
      .bash_profile_copy
      .bash_sessions/
      git-completion.bash
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h3 id="bash_profile">
        
        
          <a href="#bash_profile" class="anchor-heading" aria-labelledby="bash_profile"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> .bash_profile
        
        
      </h3>
    

<ul>
  <li><code class="highlighter-rouge">.bash_profile</code>: executed when you <code class="highlighter-rouge">login</code> -&gt; configures the shell when you get an initial command prompt.  This is different than <code class="highlighter-rouge">.bashrc</code>.</li>
  <li>
    <p>commonly loads the <code class="highlighter-rouge">~/.bashrc</code> file as well.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">bin</code> is traditionally the folder for binaries.</p>
  </li>
  <li><code class="highlighter-rouge">bash_profile</code> is designed to run when you login, so if you change it will not refresh until you login next time.</li>
</ul>
      <h3 id="bashrc">
        
        
          <a href="#bashrc" class="anchor-heading" aria-labelledby="bashrc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> .bashrc
        
        
      </h3>
    

<ul>
  <li>
    <p><code class="highlighter-rouge">.bashrc</code> it is executed simply before the command shell comes up, does not have to wait until you login.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">etc/bashrc</code> are system bashrc files which is like a “template” for user bashrc files.  Anytime a new user is created, it inherits from this template and sometimes automated customizations are applied.  This is usually done by simply importing <code class="highlighter-rouge">etc/bashrc</code> from each user’s <code class="highlighter-rouge">bashrc</code> file.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">env</code> will list all env variables.</p>
  </li>
  <li>
    <p>to apply <code class="highlighter-rouge">.bashrc</code> you just have to run the command <code class="highlighter-rouge">bash</code> as it will start another shell from your current one.  However, if you run <code class="highlighter-rouge">bash</code> you can now <code class="highlighter-rouge">exit</code> without closing the shell, because a shell is running inside another shell.</p>
  </li>
</ul>
      <h3 id="bash_history">
        
        
          <a href="#bash_history" class="anchor-heading" aria-labelledby="bash_history"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> .bash_history
        
        
      </h3>
    

<ul>
  <li><code class="highlighter-rouge">~/.bash_history</code> contains lots of history.  By default will only capture last 100 but you can change this setting.</li>
  <li>you can exlude something from saving to history (like passwords) by using an <code class="highlighter-rouge">ignorespace</code></li>
  <li>the environment variable <code class="highlighter-rouge">HIST_CONTROL</code> can be used to control how much history to keep and settings about what should not be logged.  One way to turn off loggin is:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  <span class="nb">export </span><span class="nv">HISTCONTROL</span><span class="o">=</span><span class="nv">$HISTCONTROL</span>:ignorespace
</pre></td></tr></tbody></table></div></code></pre></div>    </div>
    <p>this allow you to skip logging by adding a space to the the beginning of any command.  If you want to see what is in <code class="highlighter-rouge">HIST_CONTROL</code> you will see:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>  <span class="o">&gt;</span> <span class="nb">cat</span> ~/.bash_history | <span class="nb">grep </span>HISTCONTROL
  <span class="nv">HISTCONTROL</span><span class="o">=</span>ignoredups:ignorespace
</pre></td></tr></tbody></table></div></code></pre></div>    </div>

    <p>ignoredups was already set to this variable.</p>
  </li>
</ul>
      <h3 id="bash_logout">
        
        
          <a href="#bash_logout" class="anchor-heading" aria-labelledby="bash_logout"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> .bash_logout
        
        
      </h3>
    

<ul>
  <li>Doesn’t always exist on a system.  in most cases the contents of the <code class="highlighter-rouge">~/.bash_logout</code> will be empty or contain a comment.</li>
  <li>The role of this file is to execute things when you exit the shell.  If you close the shell it will <strong>not work</strong>, you have to do a <strong>clean exit</strong> instead.</li>
  <li>
    <p>Common use is to use this to clear out ~/.bashrc with the original to clear out any changes the user may have made.  You can accomplish this by copying a backup:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  <span class="nb">cp</span> ~/.bashrc.original ~/.bashrc
</pre></td></tr></tbody></table></div></code></pre></div>    </div>
  </li>
</ul>
      <h2 id="shell-scripts">
        
        
          <a href="#shell-scripts" class="anchor-heading" aria-labelledby="shell-scripts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Shell Scripts
        
        
      </h2>
    

<p>Put your shell scripts in a folder you can find them.  We can put them in <code class="highlighter-rouge">~/bin</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>&gt; mkdir bin
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>Make sure in <code class="highlighter-rouge">~/.bash_profile</code> you have:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HOME</span>/bin
<span class="nb">export </span>PATH
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h3 id="chmod-ux">
        
        
          <a href="#chmod-ux" class="anchor-heading" aria-labelledby="chmod-ux"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> chmod u+x
        
        
      </h3>
    

<ul>
  <li>To make <code class="highlighter-rouge">test.sh</code> executable run command <code class="highlighter-rouge">chmod u+x test.sh</code></li>
</ul>

<p>You can also run <code class="highlighter-rouge">chmod 755</code></p>
      <h3 id="introduction">
        
        
          <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction
        
        
      </h3>
    

<ul>
  <li>See <a href="Shell_Scripting.md">these notes</a> on what makes a shell script, accessing environment variables.</li>
</ul>
      <h3 id="using-variables-on-the-command-line">
        
        
          <a href="#using-variables-on-the-command-line" class="anchor-heading" aria-labelledby="using-variables-on-the-command-line"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using Variables on The Command Line
        
        
      </h3>
    

<ul>
  <li>can use any name that is not an environment variable (check with <code class="highlighter-rouge">env</code>).</li>
  <li>by convention variable names in ALLCAPS.
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  <span class="o">&gt;</span> <span class="nv">FIRSTNAME</span><span class="o">=</span><span class="s2">"Hamel"</span>
</pre></td></tr></tbody></table></div></code></pre></div>    </div>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>  - No space b/w = and value.
  - Good idea to __always__ put value in double quotes `"`, although this is not required in every case.  
</pre></td></tr></tbody></table></div></code></pre></div>    </div>
  </li>
  <li>
    <p>As a practice you want to use <code class="highlighter-rouge">export</code> command to set is as an environment variable.  This makes the variable available to any subprocess that starts from the shell.  Read more about this <a href="https://stackoverflow.com/questions/1158091/defining-a-variable-with-or-without-export">here</a>.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>  <span class="o">&gt;</span> <span class="nb">export </span>FIRSTNAME
  <span class="o">&gt;</span> <span class="nb">echo</span> <span class="s2">"Hello, </span><span class="nv">$FIRSTNAME</span><span class="s2">"</span>
  <span class="s2">"Hello Hamel"</span>

  <span class="o">&gt;</span> <span class="nb">export </span><span class="nv">FIRSTNAME</span><span class="o">=</span><span class="s2">"Hamel"</span> <span class="c"># do this in one step</span>
</pre></td></tr></tbody></table></div></code></pre></div>    </div>
    <p>The above example could work without <code class="highlighter-rouge">export</code>, too just reinforcing that its a good idea to use this as a habit.  You can do this in one step:</p>
  </li>
</ul>
      <h4 id="using-substitution-with-backticks">
        
        
          <a href="#using-substitution-with-backticks" class="anchor-heading" aria-labelledby="using-substitution-with-backticks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using Substitution with backticks
        
        
      </h4>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> <span class="nb">export </span><span class="nv">TODAYSDATE</span><span class="o">=</span><span class="sb">`</span><span class="nb">date</span><span class="sb">`</span>  <span class="c"># executes date command</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h3 id="using-variables-in-scripts">
        
        
          <a href="#using-variables-in-scripts" class="anchor-heading" aria-labelledby="using-variables-in-scripts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using Variables in Scripts
        
        
      </h3>
    

<ul>
  <li>
    <p>Illustrative script <a href="varexample.sh">varexample.sh</a></p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>  <span class="nv">MYUSERNAME</span><span class="o">=</span><span class="s1">'hamel'</span>
  <span class="nv">MYPASSWORD</span><span class="o">=</span><span class="s1">'password'</span>
  <span class="nv">STARTOFSCRIPT</span><span class="o">=</span><span class="sb">`</span><span class="nb">date</span><span class="sb">`</span>

  <span class="nb">echo</span> <span class="s2">"My login name for this app is </span><span class="nv">$MYUSERNAME</span><span class="s2">"</span>
  <span class="nb">echo</span> <span class="s2">"My login password for this app is </span><span class="nv">$MYPASSWORD</span><span class="s2">"</span>
  <span class="nb">echo</span> <span class="s2">"I started this script at </span><span class="nv">$STARTOFSCRIPT</span><span class="s2">"</span>

  <span class="nv">ENDOFSCRIPT</span><span class="o">=</span><span class="sb">`</span><span class="nb">date</span><span class="sb">`</span>

  <span class="nb">echo</span> <span class="s2">"I ended the script at </span><span class="nv">$ENDOFSCRIPT</span><span class="s2">"</span>
</pre></td></tr></tbody></table></div></code></pre></div>    </div>
  </li>
  <li>
    <p>These variables only live within the sub-shell that executes the script.</p>
  </li>
</ul>
      <h3 id="command-subsitution">
        
        
          <a href="#command-subsitution" class="anchor-heading" aria-labelledby="command-subsitution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Command Subsitution
        
        
      </h3>
    

<ul>
  <li><strong>Method 1 (Static)</strong>: Assign command result to variable.  Only runs the command at time of variable assignment.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>    <span class="nv">TODAYSDATE</span><span class="o">=</span><span class="sb">`</span><span class="nb">date</span><span class="sb">`</span>
    <span class="nv">USERFILES</span><span class="o">=</span><span class="sb">`</span>find /home <span class="nt">-user</span> user<span class="sb">`</span> <span class="c"># find all directories owned by the user "user"</span>

    <span class="nb">echo</span> <span class="s2">"Today's Date: </span><span class="nv">$TODAYSDATE</span><span class="s2">"</span>
    <span class="nb">echo</span> <span class="s2">"All files owned by USER: </span><span class="nv">$USERFILES</span><span class="s2">"</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<ul>
  <li><strong>Method 2</strong>: Use an alias, which allows you to run a command every time you call the alias. For aliases to work this way you must use the <strong>shopt</strong> command, which allows aliases to be useable in shell scripts.  Technically referred to as “expanding aliases within a subshell”.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>    <span class="c">#!/bin/bash</span>
    <span class="nb">shopt</span> <span class="nt">-s</span> expand_aliases

    <span class="c"># notice that we don't use backticks here because the command we want to execute is put in ".."</span>
    <span class="nb">alias </span><span class="nv">TODAY</span><span class="o">=</span><span class="s2">"date"</span> 
    <span class="nb">alias </span><span class="nv">UFILES</span><span class="o">=</span><span class="s2">"find /home -user user"</span>


    <span class="nv">A</span><span class="o">=</span><span class="sb">`</span>TODAY<span class="sb">`</span> <span class="c">#Executes the command date</span>
    <span class="nv">B</span><span class="o">=</span><span class="sb">`</span>UFILES<span class="sb">`</span><span class="c">#Executes the command </span>
    <span class="nb">echo</span> <span class="s2">"With Alias, TODAY is: </span><span class="nv">$A</span><span class="s2">"</span> <span class="nb">echo</span> <span class="s2">"With Alias, UFILES is: </span><span class="nv">$B</span><span class="s2">"</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h3 id="exit-status">
        
        
          <a href="#exit-status" class="anchor-heading" aria-labelledby="exit-status"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Exit Status
        
        
      </h3>
    

<ul>
  <li>Value = 0 means everything is ok</li>
  <li>
    <p>Value != 0 means something is wrong.</p>
  </li>
  <li>See last exit status w/ the <code class="highlighter-rouge">$?</code> command:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>    <span class="o">&gt;</span> <span class="nb">ls</span>
    <span class="o">&gt;</span> <span class="nb">echo</span> <span class="nv">$?</span>
    0
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h4 id="using-exit-statues-in-a-shell-script">
        
        
          <a href="#using-exit-statues-in-a-shell-script" class="anchor-heading" aria-labelledby="using-exit-statues-in-a-shell-script"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using exit statues in a shell script
        
        
      </h4>
    

<ul>
  <li>Unlike python, shell scripts will continue executing even if there is an error.  You can prevent this by using <code class="highlighter-rouge">set -e</code></li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>    <span class="nb">set</span> <span class="nt">-e</span> <span class="c"># means exit the shell if there is an error, don't continue.</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h3 id="arithmetic-operations">
        
        
          <a href="#arithmetic-operations" class="anchor-heading" aria-labelledby="arithmetic-operations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Arithmetic Operations
        
        
      </h3>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>    <span class="nb">expr </span>1 + 2
    <span class="nb">expr </span>2 <span class="se">\*</span> 2 <span class="c"># you have to escape the *</span>
    <span class="nb">expr</span> <span class="se">\(</span> 2 + 2 <span class="se">\)</span> <span class="se">\*</span> 4  <span class="c"># you must also escape the ( )</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<ul>
  <li>Caveat: <strong>You need a space</strong> on each side of the operator.</li>
</ul>
      <h2 id="global-and-local-environment-variables">
        
        
          <a href="#global-and-local-environment-variables" class="anchor-heading" aria-labelledby="global-and-local-environment-variables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Global and Local Environment Variables
        
        
      </h2>
    

<ul>
  <li><code class="highlighter-rouge">env</code> and <code class="highlighter-rouge">printenv</code> will tell you your global vars</li>
  <li>
    <p><code class="highlighter-rouge">set</code> will give you things from your session. This will also usually contain everything from your global scope.  <code class="highlighter-rouge">set</code> is a superset of <code class="highlighter-rouge">env</code>.</p>
  </li>
  <li>Reserved names: see study guide or google it.</li>
</ul>
      <h3 id="unset--delete-an-environment-variable">
        
        
          <a href="#unset--delete-an-environment-variable" class="anchor-heading" aria-labelledby="unset--delete-an-environment-variable"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="highlighter-rouge">unset</code> : Delete An Environment Variable
        
        
      </h3>
    
<p><code class="highlighter-rouge">unset MY_VAR</code></p>
      <h2 id="special-characters-quotes--escapes">
        
        
          <a href="#special-characters-quotes--escapes" class="anchor-heading" aria-labelledby="special-characters-quotes--escapes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Special Characters: Quotes &amp; Escapes
        
        
      </h2>
    

<ul>
  <li><code class="highlighter-rouge">$</code> escapes a single character.</li>
  <li>single quotes <code class="highlighter-rouge">'</code>..<code class="highlighter-rouge">'</code> treats something as a string, escapes the whole thing</li>
  <li>double quotes do <strong>not escape anything</strong>.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> <span class="nb">echo</span> <span class="s2">"</span><span class="se">\$</span><span class="s2">COL"</span>  <span class="c"># this will escape the $</span>
<span class="nv">$COL</span>

<span class="o">&gt;</span> <span class="nb">echo</span> <span class="s1">'$COL'</span> <span class="c"># single quotes escape things, means the literal string</span>
<span class="nv">$COL</span>

<span class="o">&gt;</span> <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$COL</span><span class="s2">"</span> <span class="c"># does not escape anything</span>
250

<span class="o">&gt;</span> <span class="nb">echo</span> <span class="s2">"The date is: </span><span class="sb">`</span><span class="nb">date</span><span class="sb">`</span><span class="s2">"</span> <span class="c"># command substitution with bacticks</span>
The <span class="nb">date </span>is Mon Jul 25
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h1 id="redirecting-output">
        
        
          <a href="#redirecting-output" class="anchor-heading" aria-labelledby="redirecting-output"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Redirecting Output
        
        
      </h1>
    
      <h2 id="using-devnull">
        
        
          <a href="#using-devnull" class="anchor-heading" aria-labelledby="using-devnull"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using dev/null
        
        
      </h2>
    

<p>Use <code class="highlighter-rouge">dev/null</code> when you want to discard output and don’t want to put in the background. <code class="highlighter-rouge">/dev/null</code> is a device, and like everything is a file in linux.  Everything you write to <code class="highlighter-rouge">dev/null</code> just dissapears.</p>

<p>For example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>
<span class="c">#redirect to dev/null example</span>

<span class="nb">echo</span> <span class="s2">"This is going to the blackhole."</span> <span class="o">&gt;&gt;</span> /dev/null
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>Note <code class="highlighter-rouge">&gt;&gt;</code> (append) or <code class="highlighter-rouge">&gt;</code> (overwrite) will work for dev/null, although out of habit in other scenarios it is better to append when unsure using <code class="highlighter-rouge">&gt;&gt;</code>.</p>
      <h2 id="redirect--std-error">
        
        
          <a href="#redirect--std-error" class="anchor-heading" aria-labelledby="redirect--std-error"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Redirect  Std Error
        
        
      </h2>
    

<p><code class="highlighter-rouge">ls -l /bin/usr 2&gt; ls-error.txt</code></p>
      <h2 id="redirect-std-out--err-into-one-file">
        
        
          <a href="#redirect-std-out--err-into-one-file" class="anchor-heading" aria-labelledby="redirect-std-out--err-into-one-file"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Redirect Std Out &amp; Err into one file
        
        
      </h2>
    

<p><code class="highlighter-rouge">ls  -l /bin/sur &gt; ls-output.txt 2&gt;&amp;1</code></p>

<p>Shortcut: use <code class="highlighter-rouge">&amp;</code></p>

<p><code class="highlighter-rouge">ls  -l /bin/sur &amp;&gt; ls-output.txt</code></p>
      <h2 id="dispose-std-err-output-devnull">
        
        
          <a href="#dispose-std-err-output-devnull" class="anchor-heading" aria-labelledby="dispose-std-err-output-devnull"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Dispose Std Err output <code class="highlighter-rouge">/dev/null</code>
        
        
      </h2>
    

<p><code class="highlighter-rouge">ls -l /bin/sur 2&gt; /dev/null</code></p>
      <h1 id="the-read-statement">
        
        
          <a href="#the-read-statement" class="anchor-heading" aria-labelledby="the-read-statement"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The Read Statement
        
        
      </h1>
    

<p>note the backticks and the <code class="highlighter-rouge">expr</code> command</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s2">"Enter Your First Name: "</span>
<span class="nb">read </span>FIRSTNAME

<span class="nb">echo</span> <span class="s2">"Enter Your Last Name"</span>
<span class="nb">read </span>LASTNAME

<span class="nb">echo</span> <span class="s2">"Your Full Name is </span><span class="nv">$FIRSTNAME</span><span class="s2"> </span><span class="nv">$LASTNAME</span><span class="s2">"</span>

<span class="nb">echo</span> <span class="s2">"Enter Your Age: "</span>
<span class="nb">read </span>USERAGE

<span class="nb">echo</span> <span class="s2">"In 10 Years, You will be </span><span class="sb">`</span><span class="nb">expr</span> <span class="nv">$USERAGE</span> + 10<span class="sb">`</span><span class="s2"> years old."</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h1 id="shell-expansion">
        
        
          <a href="#shell-expansion" class="anchor-heading" aria-labelledby="shell-expansion"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Shell Expansion
        
        
      </h1>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> <span class="nb">echo </span>sh<span class="o">{</span>ot,oot,ort<span class="o">}</span>
shot shoot short

<span class="o">&gt;</span> <span class="nb">echo </span>st<span class="o">{</span>il,al<span class="o">}</span>l
still stall

<span class="o">&gt;</span> <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$[</span><span class="s2"> 2 * 2 ]"</span>
4

<span class="c"># set and display var at same time</span>
<span class="o">&gt;</span> <span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">VARNAME</span>:<span class="p">=something</span><span class="k">}</span><span class="s2">"</span>
something
<span class="o">&gt;</span> <span class="nb">echo</span> <span class="nv">$VARNAME</span>
something

<span class="c"># will print any environment variable that starts with HO</span>
<span class="o">&gt;</span> <span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="p">!HO*</span><span class="k">}</span><span class="s2">"</span>
OME HOSTNAME HOSTTYPE
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="brace-expansion">
        
        
          <a href="#brace-expansion" class="anchor-heading" aria-labelledby="brace-expansion"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Brace Expansion
        
        
      </h2>
    
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> <span class="nb">echo </span>Hello-<span class="o">{</span>Foo,Bar,Baz<span class="o">}</span><span class="nt">-World</span>                             
Hello-Foo-World Hello-Bar-World Hello-Baz-World
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p><img src="Linux%20Command%20Line%202E/FFE1D5B6-3600-45F3-98EA-E5D8D8E38339.png" alt="" /></p>
      <h2 id="parameter-expansion-like-coalesce">
        
        
          <a href="#parameter-expansion-like-coalesce" class="anchor-heading" aria-labelledby="parameter-expansion-like-coalesce"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Parameter Expansion, Like Coalesce
        
        
      </h2>
    

<p><code class="highlighter-rouge">{parameter:-word}</code></p>

<p>If parameter is unset (i.e., does not exist) or is empty, this expansion results in the value of word. If parameter is not empty, the expansion results in the value of parameter.</p>

<p><img src="Linux%20Command%20Line%202E/B8AEEDCB-6411-4AAB-9A5E-60DFBF77338A.png" alt="" /></p>
      <h1 id="types-of-variables">
        
        
          <a href="#types-of-variables" class="anchor-heading" aria-labelledby="types-of-variables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Types of Variables
        
        
      </h1>
    

<p>Variables are declared implicitly, and the value will implicitly determine what kind of variable it is.  However, it could be useful to explicitly define the type.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># an integer variable</span>
<span class="nv">MYVAR</span><span class="o">=</span>4

<span class="c"># use command substitution</span>
<span class="o">&gt;</span> <span class="nb">echo</span> <span class="sb">`</span><span class="nb">expr</span> <span class="nv">$MYVAR</span> + 5<span class="sb">`</span>
9
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>Show the type of the variable, using <code class="highlighter-rouge">decalre -p</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nv">MYVAR</span><span class="o">=</span>4

<span class="c"># this shows you MYVAR is a string</span>
<span class="o">&gt;</span> <span class="nb">declare</span> <span class="nt">-p</span> MYVAR
<span class="nb">declare</span> <span class="nt">--</span> <span class="nv">MYVAR</span><span class="o">=</span><span class="s2">"4"</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<p>Interpreting the output of <code class="highlighter-rouge">declare -p</code>: <code class="highlighter-rouge">--</code> tells you that this variable is not strongly typed and its type has not been declared.</p>

<p>Set the type of the variable, using <code class="highlighter-rouge">decalre -i</code>
<strong>notice how the value is converted to zero</strong> when setting <code class="highlighter-rouge">NEWVAR</code> to a string when you have declared it as an integer.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> <span class="nb">declare</span> <span class="nt">-i</span> <span class="nv">NEWVAR</span><span class="o">=</span>10
<span class="o">&gt;</span> <span class="nb">declare</span> <span class="nt">-p</span> NEWVAR
<span class="nb">declare</span> <span class="nt">-i</span> <span class="nv">NEWVAR</span><span class="o">=</span><span class="s2">"10"</span>

<span class="o">&gt;</span> <span class="nv">NEWVAR</span><span class="o">=</span><span class="s2">"Hello"</span>
<span class="o">&gt;</span> <span class="nb">echo</span> <span class="nv">$NEWVAR</span>
0
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>Notice in the output instead of <code class="highlighter-rouge">--</code> we have <code class="highlighter-rouge">-i</code> which means this variable is an integer.</p>
      <h4 id="readonly-variables">
        
        
          <a href="#readonly-variables" class="anchor-heading" aria-labelledby="readonly-variables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Readonly Variables
        
        
      </h4>
    
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>&gt; declare -r READONLY="This is a string we cannot overwrite"
&gt; declare -p READONLY
declare -r READONLY="This is a string we cannot overwrite"
</pre></td></tr></tbody></table></div></code></pre></div></div>
<p>The <code class="highlighter-rouge">-r</code> in the output confirms this is a readonly variable.</p>

<p>Equivalent to <code class="highlighter-rouge">declare -r</code>, using the <code class="highlighter-rouge">readonly</code> command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">readonly </span><span class="nv">MYREADONLY</span><span class="o">=</span><span class="s2">"This String"</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="types-of-variables-1">
        
        
          <a href="#types-of-variables-1" class="anchor-heading" aria-labelledby="types-of-variables-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Types of Variables
        
        
      </h2>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c"># declare int variable:</span>
<span class="o">&gt;</span> <span class="nb">declare</span> <span class="nt">-i</span> <span class="nv">NEWVAR</span><span class="o">=</span>10

<span class="c"># inpsect type of NEWVAR</span>
<span class="o">&gt;</span> <span class="nb">declare</span> <span class="nt">-p</span> NEWVAR
<span class="nb">declare</span> <span class="nt">-i</span> <span class="nv">NEWVAR</span><span class="o">=</span><span class="s2">"10"</span>

<span class="c"># declare readonly variable</span>
<span class="o">&gt;</span> <span class="nb">declare</span> <span class="nt">-r</span> <span class="nv">READONLY</span><span class="o">=</span><span class="s2">"This is something we cannot overwrite"</span>

<span class="c"># try to cancel READONLY type</span>
<span class="o">&gt;</span> <span class="nb">declare</span> +r READONLY
<span class="c">### will result in an error</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>Variables in bash are implicitly typed, the type will be inferred from the value you assign.</p>

<ul>
  <li>determine the type of a variable: <code class="highlighter-rouge">declare -p $MYVAR</code></li>
  <li>declare variable as integer:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  <span class="nb">declare</span> <span class="nt">-i</span> <span class="nv">NEWVAR</span><span class="o">=</span>10
</pre></td></tr></tbody></table></div></code></pre></div>    </div>
  </li>
  <li>If you explicitly declare a variable as an int but assign it to a string, it will implicitly convert the value to <code class="highlighter-rouge">0</code>.</li>
</ul>
      <h1 id="arrays">
        
        
          <a href="#arrays" class="anchor-heading" aria-labelledby="arrays"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Arrays
        
        
      </h1>
    

<p>Indexing <strong>starts at zero.</strong>  Notice that arrays are <strong>space-delimited.</strong>, this is a strange thing if you are used to arrays w/commas.</p>

<p>You can have spaces in values if you enclose the spaces in double-quotes.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># notice no commas just spaces!</span>
<span class="o">&gt;</span> <span class="nv">MYARRAY</span><span class="o">=(</span>“First” “Second” “Third”<span class="o">)</span>
<span class="o">&gt;</span> <span class="nb">echo</span> <span class="k">${</span><span class="nv">MYARRAY</span><span class="p">[2]</span><span class="k">}</span>
“Third”
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h3 id="iterating-through-arrays">
        
        
          <a href="#iterating-through-arrays" class="anchor-heading" aria-labelledby="iterating-through-arrays"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Iterating Through Arrays
        
        
      </h3>
    

<p>See <a href="./array.sh">./array.sh</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>
<span class="c"># simple array list and loop for display</span>

<span class="nv">SERVERLIST</span><span class="o">=(</span>“websrv01” “websrv02” “websrv03”<span class="o">)</span>
<span class="nv">COUNT</span><span class="o">=</span>0

<span class="k">for </span>INDEX <span class="k">in</span> <span class="k">${</span><span class="nv">SERVERLIST</span><span class="p">[@]</span><span class="k">}</span><span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> “Processing Server: <span class="k">${</span><span class="nv">SERVERLIST</span><span class="p">[COUNT]</span><span class="k">}</span>”
    <span class="nv">COUNT</span><span class="o">=</span>“<span class="sb">`</span><span class="nb">expr</span> <span class="nv">$COUNT</span> + 1 <span class="sb">`</span>”
<span class="k">done</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>You cannot decrease the size of the array, you can only increase the size of the array.</p>
      <h3 id="passing-variables-to-scripts-at-the-command-line">
        
        
          <a href="#passing-variables-to-scripts-at-the-command-line" class="anchor-heading" aria-labelledby="passing-variables-to-scripts-at-the-command-line"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Passing Variables to Scripts at the Command Line
        
        
      </h3>
    

<p>see <a href="cli_args.sh">./cli_args.sh</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">echo</span> “The following item was passed to the script at run <span class="nb">time</span> <span class="nv">$1</span>”
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>The arguments go from 1-n (starts at 1).</p>

<p>if you have an argument that contains a space, then you wan to enclose this in quotes, otherwhise space is seen as a delimiter.</p>
      <h1 id="conditionals">
        
        
          <a href="#conditionals" class="anchor-heading" aria-labelledby="conditionals"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Conditionals
        
        
      </h1>
    
      <h2 id="the-if-statement">
        
        
          <a href="#the-if-statement" class="anchor-heading" aria-labelledby="the-if-statement"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The if statement
        
        
      </h2>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>3
<span class="nb">echo</span> “Guess the Secret Number”
<span class="nb">echo</span> “<span class="o">======================</span>“
<span class="nb">echo</span> “”
<span class="nb">echo</span> “Enter a Number Between 1 and 5”
<span class="nb">read </span>GUESS


<span class="k">if</span> <span class="o">[</span> <span class="nv">$GUESS</span> <span class="nt">-eq</span> 3 <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">echo</span> “You guessed the Correct Number!”
<span class="k">fi</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>Test if a file exists <a href="./iffileexists.sh">iffileexists.sh</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="nv">FILENAME</span><span class="o">=</span><span class="nv">$1</span>
<span class="nb">echo</span> “Testing <span class="k">for </span>the existence of a file called <span class="nv">$FILENAME</span>”

<span class="k">if</span> <span class="o">[</span> <span class="nt">-a</span> <span class="nv">$FILENAME</span> <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">echo</span> “<span class="nv">$FILENAME</span> does exist!”
<span class="k">fi</span>

<span class="c"># negation operator </span>
<span class="k">if</span> <span class="o">[!</span> <span class="nt">-a</span> <span class="nv">$FILENAME</span> <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">echo</span> “<span class="nv">$FILENAME</span> does not exist!”
<span class="k">fi</span>

<span class="c"># test multiple expressions in if statement</span>

<span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> <span class="nv">$FILENAME</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span> <span class="nt">-R</span> <span class="nv">$FILENAME</span><span class="o">]</span>
    <span class="k">then
        </span><span class="nb">echo</span> “File <span class="nv">$FILENAME</span> exists and is readable.”
<span class="k">fi</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p><code class="highlighter-rouge">-a</code> is the same as <code class="highlighter-rouge">-f</code> w.r.t. testing for the existence of a file.</p>
      <h2 id="ifthenelse">
        
        
          <a href="#ifthenelse" class="anchor-heading" aria-labelledby="ifthenelse"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> If/Then/Else
        
        
      </h2>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nb">echo</span> “Enter a number between 1 and 3:”
<span class="nb">read </span>VALUE

<span class="c"># use semicolons for readability</span>
<span class="k">if</span> <span class="o">[</span> “<span class="nv">$VALUE</span>” <span class="nt">-eq</span> “1” <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> “You entered <span class="nv">$VALUE</span>”
<span class="k">fi</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>Using an OR statement:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># another variation</span>
<span class="k">if</span> <span class="o">[</span> “<span class="nv">$VALUE</span>” <span class="nt">-eq</span> “1” <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> “<span class="nv">$VALUE</span>” <span class="nt">-eq</span> “2” <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> “<span class="nv">$VALUE</span>” <span class="nt">-eq</span> “3” <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> “You entered <span class="nv">$VALUE</span>”
<span class="k">else
    </span><span class="nb">echo</span> “You didn’t follow directions!”
<span class="k">fi</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p><strong>Redirect errors to /dev/null</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">if</span> <span class="o">[</span> “<span class="nv">$VALUE</span>” <span class="nt">-eq</span> “1” <span class="o">]</span> 2&gt;/dev/null <span class="o">||</span> <span class="o">[</span> “<span class="nv">$VALUE</span>” <span class="nt">-eq</span> “2” <span class="o">]</span> 2&gt;/dev/null <span class="o">||</span> <span class="o">[</span> “<span class="nv">$VALUE</span>” <span class="nt">-eq</span> “3” <span class="o">]</span> 2&gt;/dev/null<span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> “You entered <span class="nv">$VALUE</span>”
<span class="k">else
    </span><span class="nb">echo</span> “You didn’t follow directions!”
<span class="k">fi

if</span> <span class="o">[</span> “<span class="nv">$VALUE</span>” <span class="nt">-eq</span> “1” <span class="o">]</span> 2&gt;/dev/null<span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> “You entered <span class="c">#1”</span>
<span class="k">elif</span> “ <span class="s2">"</span><span class="nv">$VAL</span><span class="s2">”E"</span> <span class="nt">-e</span>“ ”2<span class="s2">" ] 2&gt;/dev/null; then
    ech“ "</span>You entered ”2<span class="s2">"
elif “ "</span><span class="nv">$VAL</span>”E<span class="s2">" -e“ ”3"</span> <span class="o">]</span> 2&gt;/dev/null<span class="p">;</span> <span class="k">then
    </span>ech“ <span class="s2">"You entered ”3"</span>
<span class="k">else
    </span>ech“ <span class="s2">"You di’n't follow direction”!"</span>
<span class="k">fi</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h1 id="conditional-expressions">
        
        
          <a href="#conditional-expressions" class="anchor-heading" aria-labelledby="conditional-expressions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Conditional Expressions
        
        
      </h1>
    

<p>Hamel’s Note: Use Double Brackets <code class="highlighter-rouge">[[ ]]</code>, not single brackets</p>
      <h2 id="file-expressions">
        
        
          <a href="#file-expressions" class="anchor-heading" aria-labelledby="file-expressions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> File Expressions
        
        
      </h2>
    

<p><img src="Linux%20Command%20Line%202E/04C3BAEC-A2B6-4EDF-B61D-7F290E5C94BE.png" alt="" /></p>

<p><img src="Linux%20Command%20Line%202E/C96B41FA-AF66-421D-96BC-B3EA0FA39139.png" alt="" /></p>
      <h2 id="string-expressions">
        
        
          <a href="#string-expressions" class="anchor-heading" aria-labelledby="string-expressions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> String Expressions
        
        
      </h2>
    

<p><img src="Linux%20Command%20Line%202E/7E21E94F-714E-48EB-9819-6CF33D414404.png" alt="" /></p>
      <h2 id="integer-expressions">
        
        
          <a href="#integer-expressions" class="anchor-heading" aria-labelledby="integer-expressions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Integer Expressions
        
        
      </h2>
    

<p><img src="Linux%20Command%20Line%202E/1F1BC194-36CA-4949-83A5-0EB99A150F18.png" alt="" /></p>
      <h1 id="aside-output-streams">
        
        
          <a href="#aside-output-streams" class="anchor-heading" aria-labelledby="aside-output-streams"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Aside: Output Streams
        
        
      </h1>
    

<p>https://askubuntu.com/questions/625224/how-to-redirect-stderr-to-a-file</p>

<p><strong>1</strong>: stdout</p>

<p><strong>2</strong>: stderr</p>

<p>error messages are printed to standard error. The classic redirection operator (command &gt; file) only redirects standard output, so standard error is still shown on the terminal. To redirect stderr as well, you have a few choices:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># Redirect stdout to one file and stderr to another file:</span>
<span class="nb">command</span> <span class="o">&gt;</span> out 2&gt;error

<span class="c"># Redirect stderr to stdout (&amp;1), and then redirect stdout to a file:</span>

<span class="nb">command</span> <span class="o">&gt;</span>out 2&gt;&amp;1

<span class="c"># Redirect both to a file (this isn’t supported by all shells, bash and zsh support it, for example, but sh and ksh do not)</span>
<span class="nb">command</span> &amp;&gt; out
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h1 id="control-flow">
        
        
          <a href="#control-flow" class="anchor-heading" aria-labelledby="control-flow"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Control Flow
        
        
      </h1>
    

<ul>
  <li><code class="highlighter-rouge">break</code> exits the loop</li>
  <li><code class="highlighter-rouge">continue</code> goes to next iteration in loop</li>
  <li><code class="highlighter-rouge">until</code> is opposite of while</li>
</ul>
      <h2 id="for-loop">
        
        
          <a href="#for-loop" class="anchor-heading" aria-labelledby="for-loop"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> For Loop
        
        
      </h2>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>
<span class="nb">echo</span> “List all the shell scripts contents of the directory”
<span class="nv">SHELLSCRIPTS</span><span class="o">=</span><span class="sb">`</span><span class="nb">ls</span> <span class="k">*</span>.sh<span class="sb">`</span>

<span class="c"># alternate using for loop</span>

<span class="k">for </span>FILE <span class="k">in</span> <span class="k">*</span>.sh<span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> “<span class="nv">$FILE</span>”
<span class="k">done</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="case-statement">
        
        
          <a href="#case-statement" class="anchor-heading" aria-labelledby="case-statement"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Case Statement
        
        
      </h2>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="nb">echo</span> “1<span class="o">)</span> Choice 2”
<span class="nb">echo</span> “2<span class="o">)</span> Choice 2”
<span class="nb">echo</span> “3<span class="o">)</span> Choice 3”
<span class="nb">echo</span> “Enter Choice:”

<span class="nb">read </span>MENUCHOICE

<span class="k">case</span> <span class="nv">$MENUCHOICE</span> <span class="k">in
    </span>1<span class="p">)</span>
        <span class="nb">echo</span> “You have choosen the first option”<span class="p">;;</span>
    2<span class="p">)</span>
        <span class="nb">echo</span> “You have chosen the second option”<span class="p">;;</span>
    3<span class="p">)</span> 
        <span class="nb">echo</span> “You have selected the third option”<span class="p">;;</span>
    <span class="k">*</span><span class="p">)</span>
        <span class="nb">echo</span> “You have choosen unwisely”<span class="p">;;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h3 id="match-multiple-case-statements">
        
        
          <a href="#match-multiple-case-statements" class="anchor-heading" aria-labelledby="match-multiple-case-statements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Match Multiple Case Statements
        
        
      </h3>
    

<p>Allow many matches to occur</p>

<p><img src="Linux%20Command%20Line%202E/B619EA40-60AC-43A9-91F2-D38B9AF88B29.png" alt="" /></p>
      <h2 id="while-loop">
        
        
          <a href="#while-loop" class="anchor-heading" aria-labelledby="while-loop"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> While Loop
        
        
      </h2>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="nb">echo</span> “Enter number of <span class="nb">times </span>to display message:”
<span class="nb">read </span>NUM

<span class="nv">COUNT</span><span class="o">=</span>1

<span class="c"># -le means less than or equal to</span>
<span class="k">while</span> <span class="o">[</span> <span class="nv">$COUNT</span> <span class="nt">-le</span> <span class="nv">$NUM</span> <span class="o">]</span>
<span class="k">do
    </span><span class="nb">echo</span> “Hello World <span class="nv">$COUNT</span>”
    <span class="nv">COUNT</span><span class="o">=</span>“<span class="sb">`</span><span class="nb">expr</span> <span class="nv">$COUNT</span> + 1<span class="sb">`</span>”
<span class="k">done</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="asynchronous-execution-with-wait">
        
        
          <a href="#asynchronous-execution-with-wait" class="anchor-heading" aria-labelledby="asynchronous-execution-with-wait"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Asynchronous Execution with <code class="highlighter-rouge">wait</code>
        
        
      </h2>
    

<p><img src="Linux%20Command%20Line%202E/D58576C6-9AEA-4124-8575-2A3406CC6590.png" alt="" /></p>

<p>This is the most straightforward implementation of async I have ever seen.  You basically decide when to block and wait for a process that you previously decided to run in a child process.</p>
      <h2 id="short-circuit-expressions">
        
        
          <a href="#short-circuit-expressions" class="anchor-heading" aria-labelledby="short-circuit-expressions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Short Circuit Expressions
        
        
      </h2>
    
      <h3 id="-command1--command2">
        
        
          <a href="#-command1--command2" class="anchor-heading" aria-labelledby="-command1--command2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> &amp;&amp;: <code class="highlighter-rouge">command1 &amp;&amp; command2</code>:
        
        
      </h3>
    

<p>only run <code class="highlighter-rouge">command2</code> if <code class="highlighter-rouge">command1</code> is successful</p>
      <h3 id="-command1--command2-1">
        
        
          <a href="#-command1--command2-1" class="anchor-heading" aria-labelledby="-command1--command2-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ||: <code class="highlighter-rouge">command1 || command2</code>:
        
        
      </h3>
    

<p>only run <code class="highlighter-rouge">command2</code> if <code class="highlighter-rouge">command1</code> fails</p>
      <h1 id="execution-operators">
        
        
          <a href="#execution-operators" class="anchor-heading" aria-labelledby="execution-operators"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Execution Operators
        
        
      </h1>
    

<p>the file super duper does not exist</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>rm superduper 2&gt; /dev/null &amp;&amp; echo "File was deleted"
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>The <code class="highlighter-rouge">echo</code> will only execute if the <code class="highlighter-rouge">rm</code> command was successful and exits without errors.  Therefore, in this case the <code class="highlighter-rouge">echo</code> statement will not be triggered.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>rm superduper 2&gt; /dev/null &amp;&amp; echo "File was deleted" || echo "File does not exit"
</pre></td></tr></tbody></table></div></code></pre></div></div>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td>Because of short-circuiting rules, the second statement of the OR</td>
      <td> </td>
      <td>will not trigger unless the left hand side is false.</td>
    </tr>
  </tbody>
</table></div>

<ol>
  <li><code class="highlighter-rouge">&amp;&amp;</code> :  and</li>
  <li><code class="highlighter-rouge">||</code> :  or</li>
</ol>
      <h1 id="inputoutput">
        
        
          <a href="#inputoutput" class="anchor-heading" aria-labelledby="inputoutput"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input/Output
        
        
      </h1>
    
      <h2 id="reading-files">
        
        
          <a href="#reading-files" class="anchor-heading" aria-labelledby="reading-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Reading Files
        
        
      </h2>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nb">echo</span> “Enter a filename” 
<span class="nb">read </span>FILE

<span class="k">while </span><span class="nb">read</span> <span class="nt">-r</span> SUPERHERO<span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> “Superhero Name: <span class="nv">$SUPERHERO</span>”
<span class="k">done</span> &lt; “<span class="nv">$FILE</span>”
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="reading-files-with-loops">
        
        
          <a href="#reading-files-with-loops" class="anchor-heading" aria-labelledby="reading-files-with-loops"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Reading Files with loops
        
        
      </h2>
    

<p><img src="Linux%20Command%20Line%202E/D08C1840-7C02-4212-AC01-C968DB36EC81.png" alt="" /></p>
      <h2 id="file-descriptors">
        
        
          <a href="#file-descriptors" class="anchor-heading" aria-labelledby="file-descriptors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> File Descriptors
        
        
      </h2>
    

<p>Use a number &gt;= 3 for file descriptors.</p>

<p>0 - stdin
1 - stdout
2 - stderr</p>

<p>/dev/null -&gt; generic place where you can redirect streams into nothing.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="nb">echo</span> “Enter file name: “
<span class="nb">read </span>FILE

<span class="c"># &lt; means readonly,  &gt; means write only,  &lt;&gt; means allow read &amp; write</span>
<span class="c"># assign file descriptor to filename</span>
<span class="nb">exec </span>5&lt;<span class="o">&gt;</span><span class="nv">$FILE</span>

<span class="k">while </span><span class="nb">read</span> <span class="nt">-r</span> SUPERHERO<span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> “Superhero Name: <span class="nv">$SUPERHERO</span>”
<span class="k">done</span> &lt;&amp;5 <span class="c">#use &amp; to reference the file descriptor</span>

<span class="c"># append to end of file.</span>
<span class="nb">echo</span> <span class="s2">"File Was Read On: </span><span class="sb">`</span><span class="nb">date</span><span class="sb">`</span><span class="s2">"</span> <span class="o">&gt;</span>&amp;5

<span class="c"># close file descriptor</span>
<span class="nb">exec </span>5&gt;&amp;-
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="delimiters-ifs">
        
        
          <a href="#delimiters-ifs" class="anchor-heading" aria-labelledby="delimiters-ifs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Delimiters (IFS)
        
        
      </h2>
    

<p>IFS - Internal Field Seperator
Default is a space</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># this will return a space</span>
<span class="nb">echo</span> <span class="nv">$IFS</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s2">"Enter filename to parse: "</span>
<span class="nb">read </span>FILE <span class="c"># spacedelim.txt</span>

<span class="c"># https://stackoverflow.com/questions/24337385/bash-preserve-string-with-spaces-input-on-command-line</span>

<span class="k">while </span><span class="nb">read</span> <span class="nt">-r</span> CPU MEM DISK<span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> <span class="s2">"CPU: </span><span class="nv">$CPU</span><span class="s2">"</span>
    <span class="nb">echo</span> <span class="s2">"Memory: </span><span class="nv">$MEM</span><span class="s2">"</span>
    <span class="nb">echo</span> <span class="s2">"Disk: </span><span class="nv">$DISK</span><span class="s2">"</span>
<span class="k">done</span> &lt;<span class="s2">"</span><span class="nv">$FILE</span><span class="s2">"</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="traps-and-signals">
        
        
          <a href="#traps-and-signals" class="anchor-heading" aria-labelledby="traps-and-signals"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Traps and Signals
        
        
      </h2>
    

<p>https://www.gnu.org/software/libc/manual/html_node/Termination-Signals.html</p>
<ul>
  <li><code class="highlighter-rouge">cntrl+c</code> = SIGINT</li>
  <li><code class="highlighter-rouge">cntrl+z</code> = SIGTSTP</li>
  <li><code class="highlighter-rouge">kill</code> command (without -9 flag) = SIGTERM</li>
  <li><code class="highlighter-rouge">kill -9</code> = SIGKILL;  this signal is not sent to the process, it is just killed.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre>clear

<span class="c"># first argument is what to exexute </span>
<span class="nb">trap</span> <span class="s1">'echo " - Please Press Q to Exit."'</span> SIGINT SIGTERM SIGTSTP

<span class="c"># cntrl+c = SIGINT</span>
<span class="c"># cntrl+z = SIGTSTP  (Suspend, send to background)</span>



<span class="k">while</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$CHOICE</span><span class="s2">"</span> <span class="o">!=</span> <span class="s2">"Q"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$CHOICE</span><span class="s2">"</span> <span class="o">!=</span> <span class="s2">"q"</span> <span class="o">]</span><span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> <span class="s2">"Main Menu"</span>
    <span class="nb">echo</span> <span class="s2">"======="</span>
    <span class="nb">echo</span> <span class="s2">"1) Choice One"</span>
    <span class="nb">echo</span> <span class="s2">"2) Choice Two"</span>
    <span class="nb">echo</span> <span class="s2">"3) Choice Three"</span>
    <span class="nb">echo</span> <span class="s2">"Q) Quit"</span>
    <span class="nb">read </span>CHOICE

    clear
<span class="k">done</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h1 id="debugging-shell-scripts">
        
        
          <a href="#debugging-shell-scripts" class="anchor-heading" aria-labelledby="debugging-shell-scripts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Debugging Shell Scripts
        
        
      </h1>
    

<p><code class="highlighter-rouge">bash -x</code> will run a shell script in debug mode.</p>

<p>google this to figure out how to interpret output of debugging.</p>
      <h1 id="error-handling">
        
        
          <a href="#error-handling" class="anchor-heading" aria-labelledby="error-handling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Handling
        
        
      </h1>
    

<p><code class="highlighter-rouge">$?</code> contains the status code of the last command.</p>

<p>What if you have the code:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>
<span class="nb">echo</span> <span class="s2">"Change to a directory and list the contents"</span>
<span class="nv">DIRECTORY</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
<span class="nb">cd</span> <span class="nv">$DIRECTORY</span>

<span class="c"># DANGER: the below command will still run even if the previous command failed!</span>
<span class="nb">rm</span> <span class="k">*</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>Solution:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="nv">DIRECTORY</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
<span class="nb">cd</span> <span class="nv">$DIRECTORY</span>

<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> <span class="nt">-eq</span> <span class="s2">"0"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Changed directory successfully into </span><span class="nv">$DIRECTORY</span><span class="s2">"</span>
<span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"Cannot change driectories, exiting with error."</span>
    <span class="nb">exit </span>111 <span class="c"># you can exit with any code you want!</span>
<span class="k">fi</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h1 id="functions">
        
        
          <a href="#functions" class="anchor-heading" aria-labelledby="functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Functions
        
        
      </h1>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>
funcExample <span class="o">()</span> <span class="o">{</span>
    <span class="nb">echo</span> <span class="s2">"We are inside the function"</span>
<span class="o">}</span>

<span class="c">#call the function</span>
funcExample

</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="structure-of-functions-in-a-shell-script">
        
        
          <a href="#structure-of-functions-in-a-shell-script" class="anchor-heading" aria-labelledby="structure-of-functions-in-a-shell-script"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> structure of functions in a shell script
        
        
      </h2>
    

<p>Unlike python, <strong>you must define your functions before you call them.</strong></p>
      <h2 id="scope">
        
        
          <a href="#scope" class="anchor-heading" aria-labelledby="scope"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Scope
        
        
      </h2>
    

<p>setting a variable within a function <strong>defines that variable globally</strong> after that function is called!!!</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="nv">GLOBALVAR</span><span class="o">=</span>“Globally Visible”

<span class="c"># sample function for function variable scope</span>
funcExample <span class="o">()</span> <span class="o">{</span>
    <span class="c"># local</span>
    <span class="nv">LOCALVAR</span><span class="o">=</span>“Locally Visible”

    <span class="nb">echo</span> “From within the <span class="k">function</span>, the variable’s value is <span class="nb">set </span>to <span class="nv">$LOCALVAR</span> …”
<span class="o">}</span>

<span class="c"># script start</span>

<span class="nb">echo</span> “this happens before the <span class="k">function </span>call”
<span class="nb">echo</span> “”
<span class="nb">echo</span> “Local Variable <span class="o">=</span> <span class="nv">$LOCALVAR</span> after the <span class="k">function </span>call.”
<span class="nb">echo</span> “Global Variable <span class="o">=</span> <span class="nv">$GLOBALVAR</span> <span class="o">(</span>before the <span class="k">function </span>call<span class="o">)</span>.”

funcExample

<span class="nb">echo</span> “this happens after the <span class="k">function </span>call”
<span class="nb">echo</span> “Local Variable <span class="o">=</span> <span class="nv">$LOCALVAR</span> after the <span class="k">function </span>call.”
<span class="nb">echo</span> “Global Variable <span class="o">=</span> <span class="nv">$GLOBALVAR</span> <span class="o">(</span>before the <span class="k">function </span>call<span class="o">)</span>.”
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>Output of above code:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre> ./scope.sh
this happens before the function call

Local Variable =  after the function call.
Global Variable = Globally Visible (before the function call).
From within the function, the variable’s value is set to Locally Visible …
this happens after the function call
Local Variable = Locally Visible after the function call.
Global Variable = Globally Visible (before the function call).
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="functions-with-parameters">
        
        
          <a href="#functions-with-parameters" class="anchor-heading" aria-labelledby="functions-with-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Functions With Parameters
        
        
      </h2>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c"># global</span>
<span class="nv">USERNAME</span><span class="o">=</span><span class="nv">$1</span>

funcAgeInDays <span class="o">()</span> <span class="o">{</span>
    <span class="nb">echo</span> “Hello <span class="nv">$USERNAME</span>, You are <span class="nv">$1</span> Years old.”
    <span class="nb">echo</span> “That makes you approx <span class="sb">`</span><span class="nb">expr </span>365 <span class="se">\*</span> <span class="nv">$1</span><span class="sb">`</span> days old”
<span class="o">}</span>

<span class="c">#script - start</span>
<span class="nb">read</span> <span class="nt">-r</span> <span class="nt">-p</span> “Enter your age:” AGE

<span class="c"># pass in arguments like this</span>
funcAgeInDays <span class="nv">$AGE</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="nested-functions">
        
        
          <a href="#nested-functions" class="anchor-heading" aria-labelledby="nested-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Nested Functions
        
        
      </h2>
    

<p>Author of course uses this for organization purposes.  When you call a function if it has nested functions the functions defined within will be exposed to the script also.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="c"># global</span>
<span class="nv">GENDER</span><span class="o">=</span><span class="nv">$1</span>

funcHuman <span class="o">()</span> <span class="o">{</span>
    <span class="nv">ARMS</span><span class="o">=</span>2
    <span class="nv">LEGS</span><span class="o">=</span>2

    funcMale <span class="o">()</span> <span class="o">{</span>
        <span class="nv">BEARD</span><span class="o">=</span>1
        <span class="nb">echo</span> “This man has <span class="nv">$ARMS</span> arms and <span class="nv">$LEGS</span> legs with <span class="nv">$BEARD</span> beard”
    <span class="o">}</span>

    funcFemale <span class="o">()</span> <span class="o">{</span>
        <span class="nv">BEARD</span><span class="o">=</span>0
        <span class="nb">echo</span> “This woman has <span class="nv">$ARMS</span> arms and <span class="nv">$LEGS</span> legs with <span class="nv">$BEARD</span> beard”
    <span class="o">}</span>
<span class="o">}</span>

<span class="c"># script start</span>
clear

<span class="c"># determine the actual gender and display the characteristics.</span>
<span class="k">if</span>  <span class="o">[</span> “<span class="nv">$GENDER</span>” <span class="o">==</span> “male” <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span>funcHuman
    funcMale <span class="c"># this function is available after the parent function is called.</span>
<span class="k">else
    </span>funcHuman
    funcFemale
<span class="k">fi</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="function-return-and-exit">
        
        
          <a href="#function-return-and-exit" class="anchor-heading" aria-labelledby="function-return-and-exit"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Function Return and Exit
        
        
      </h2>
    

<p>This allows you to get arguments from the command line and then exit with a proper code and also use function returns inside scripts.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre></td><td class="rouge-code"><pre><span class="c"># demo of return values and testing results</span>

<span class="nv">YES</span><span class="o">=</span>0
<span class="nv">NO</span><span class="o">=</span>1
<span class="nv">FIRST</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">SECOND</span><span class="o">=</span><span class="nv">$2</span>
<span class="nv">THIRD</span><span class="o">=</span><span class="nv">$3</span>

<span class="c"># function definitions</span>

funcCheckParams <span class="o">()</span> <span class="o">{</span>
    <span class="c"># did we get three</span>
    <span class="c"># -z equivalent to isnull (in this case means not-null b/c of !)</span>
    <span class="k">if</span> <span class="o">[</span> <span class="o">!</span> <span class="nt">-z</span> “<span class="nv">$THIRD</span>” <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> “We got three params”
        <span class="k">return</span> <span class="nv">$YES</span>
    <span class="k">else
        </span><span class="nb">echo</span> “We did not get three params”
        <span class="k">return</span> <span class="nv">$NO</span>
    <span class="k">fi</span>
<span class="o">}</span>

<span class="c"># script start</span>

funcCheckParams
<span class="c"># the return value from the function gets stored in $?</span>
<span class="nv">RETURN_VALS</span><span class="o">=</span><span class="nv">$?</span>

<span class="k">if</span> <span class="o">[</span> “<span class="nv">$RETURN_VALS</span>” <span class="nt">-eq</span> “<span class="nv">$YES</span>” <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> “We received three params and they are:”
    <span class="nb">echo</span> “Param 1: <span class="nv">$FIRST</span>”
    <span class="nb">echo</span> “Param 2: <span class="nv">$SECOND</span>”
    <span class="nb">echo</span> “Param 3: <span class="nv">$THIRD</span>”
<span class="k">else
    </span><span class="nb">echo</span> “Usage: funcreturn.sh <span class="o">[</span>param1] <span class="o">[</span>param2] <span class="o">[</span>param3]”
    <span class="nb">exit </span>1
<span class="k">fi</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h1 id="interactive-menus">
        
        
          <a href="#interactive-menus" class="anchor-heading" aria-labelledby="interactive-menus"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Interactive Menus
        
        
      </h1>
    
      <h2 id="infobox">
        
        
          <a href="#infobox" class="anchor-heading" aria-labelledby="infobox"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Infobox
        
        
      </h2>
    

<p>Dissappears unless you sleep (see below).  Does not come with any buttons.</p>

<p>see <a href="exercises/26_dialog.sh">exercises/26_dialog.sh</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c"># globals</span>
<span class="nv">INFOBOX</span><span class="o">=</span><span class="k">${</span><span class="nv">INFOBOX</span><span class="p">=dialog</span><span class="k">}</span>
<span class="nv">TITLE</span><span class="o">=</span>“Default”
<span class="nv">MESSAGE</span><span class="o">=</span>“Something to say”
<span class="nv">XCOORD</span><span class="o">=</span>10
<span class="nv">YCOORD</span><span class="o">=</span>20

funcDisplayInfoBox <span class="o">()</span> <span class="o">{</span>
    <span class="nv">$INFOBOX</span> —title “<span class="nv">$1</span>” —infobox “<span class="nv">$2</span>” “<span class="nv">$3</span>” “<span class="nv">$4</span>”
    <span class="nb">sleep</span> “<span class="nv">$5</span>”
<span class="o">}</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="msgbox">
        
        
          <a href="#msgbox" class="anchor-heading" aria-labelledby="msgbox"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Msgbox
        
        
      </h2>
    

<p>Msgbox - dissapears unless you sleep pass <code class="highlighter-rouge">--msgbox</code> argument, comes with default ok button and stays on screen.</p>

<p>see <a href="exercises/27_msgbox.sh">exercises/27_msgbox.sh</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c"># global</span>
<span class="nv">MSGBOX</span><span class="o">=</span><span class="k">${</span><span class="nv">MSGBOX</span><span class="p">=dialog</span><span class="k">}</span>
<span class="nv">TITLE</span><span class="o">=</span>“Default”
<span class="nv">MESSAGE</span><span class="o">=</span>“Some Message”
<span class="nv">XCOORD</span><span class="o">=</span>10
<span class="nv">YCOORD</span><span class="o">=</span>20

funcDisplayMsgBox <span class="o">()</span> <span class="o">{</span>
    <span class="nv">$MSGBOX</span> —title “<span class="nv">$1</span>” —msgbox “<span class="nv">$2</span>” “<span class="nv">$3</span>” “<span class="nv">$4</span>”
<span class="o">}</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
      <h2 id="menus">
        
        
          <a href="#menus" class="anchor-heading" aria-labelledby="menus"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Menus
        
        
      </h2>
    

<p>See pdf notes/scripts</p>

        

        

        
        
          <hr>
          <footer>
            

            <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2020 onwards, Hamel Husain.</p>

            
              <div class="d-flex mt-2">
                
                
                  <p class="text-small text-grey-dk-000 mb-0">
                    <a href="https://github.com/hamelsmu/notes/tree/master/docs/linux/bash_scripting.md" id="edit-this-page">Edit on GitHub.</a>
                  </p>
                
              </div>
            
          </footer>
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    
  </div>
</body>
</html>


